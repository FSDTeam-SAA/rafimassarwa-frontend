"use client";
import Image from "next/image";
import { useState } from "react";
import PriceChart from "./Chart/PriceChart";
import TargetChart from "./Chart/TargetChart";
import CashFlowChart from "./Chart/CashFlowChart";
import RevenueChart from "./Chart/RevenueChart";
import EpsChart from "./Chart/EpsChart";
import EarningChart from "./Chart/EarningChart";
import LatestArticles from "@/shared/Articles";
import StockDashboard from "@/shared/StockDashboard";
import { useQuery } from "@tanstack/react-query";
import useAxios from "@/hooks/useAxios";
import { useSearchParams } from "next/navigation";
import Link from "next/link";
import { Loader2 } from "lucide-react";

const SearchResult = () => {
  const [isActive, setIsActive] = useState("price");
  const [isActive2, setIsActive2] = useState("revenue");
  const searchParams = useSearchParams();
  const query = searchParams.get("q");

  const axiosInstance = useAxios();

  const { data: stockData = {}, isLoading } = useQuery({
    queryKey: ["stock-overview", query],
    queryFn: async () => {
      const res = await axiosInstance(
        `/stocks/get-stock-overview?symbol=${query}`
      );
      return res.data;
    },
  });

  // Calculate percentage difference
  const percentDiff =
    ((stockData?.valuationBar?.currentPrice -
      stockData?.valuationBar?.fairValue) /
      stockData?.valuationBar?.fairValue) *
    100;
  const isOvervalued =
    stockData?.valuationBar?.currentPrice > stockData?.valuationBar?.fairValue;
  const isUndervalued =
    stockData?.valuationBar?.currentPrice < stockData?.valuationBar?.fairValue;
  const isFairlyValued =
    Math.abs(
      stockData?.valuationBar?.currentPrice - stockData?.valuationBar?.fairValue
    ) < 0.01;

  // Determine colors based on valuation
  const getGradientColors = () => {
    if (isFairlyValued) {
      return {
        start: "#FFD700",
        middle: "#00A719",
        end: "#00A719",
      };
    } else if (isUndervalued) {
      return {
        start: "#00A719",
        middle: "#FFD700",
        end: "#FFD700",
      };
    } else {
      return {
        start: "#FFD700",
        middle: "#FF5733",
        end: "#FF5733",
      };
    }
  };

  const gradientColors = getGradientColors();

  // Get status text and color
  const getStatusInfo = () => {
    if (isFairlyValued) {
      return { text: "Fair Value", bgColor: "#28A745", textColor: "#28A745" };
    } else if (isUndervalued) {
      return { text: "Under Value", bgColor: "#FFD700", textColor: "#FFD700" };
    } else {
      return { text: "Over Value", bgColor: "#FF5733", textColor: "#FF5733" };
    }
  };

  const statusInfo = getStatusInfo();

  if (isLoading)
    return (
      <div className="absolute inset-0 bg-white/80 flex items-center justify-center z-10">
        <Loader2 className="h-12 w-12 animate-spin text-green-500" />
      </div>
    );

  return (
    <div className="container mx-auto px-4 py-6">
      {/* section 1  */}
      <div className="w-full shadow-lg p-6 border rounded-xl bg-white">
        <div className="flex flex-col lg:flex-row gap-6 lg:h-[500px]">
          {/* Quadrant Section */}
          <div className="w-full lg:w-1/2 shadow-md lg:p-16 rounded-xl relative overflow-hidden h-[500px] border">
            {/* Axis Labels */}
            <div className="absolute top-[16px] left-1/2 -translate-x-1/2 text-center text-sm text-gray-700 font-medium">
              Strong Financial Health
            </div>
            <div className="absolute bottom-[16px] left-1/2 -translate-x-1/2 text-center text-sm text-gray-700 font-medium">
              Poor Financial Health
            </div>
            <div className="absolute top-1/2 left-[-85px] lg:left-[-45px] -translate-y-1/2 text-sm text-gray-700 font-medium transform -rotate-90 origin-center text-center">
              Low Competitive Advantage
            </div>
            <div className="absolute top-1/2 right-[-85px] lg:right-[-45px] -translate-y-1/2 text-sm text-gray-700 font-medium transform rotate-90 origin-center text-center">
              High Competitive Advantage
            </div>

            {/* Dual-sided Vertical Arrow */}
            <svg
              className="absolute left-1/2 top-12 -translate-x-1/2"
              width="20"
              height="80%"
              viewBox="0 0 20 500"
              xmlns="http://www.w3.org/2000/svg"
            >
              <line
                x1="10"
                y1="0"
                x2="10"
                y2="500"
                stroke="gray"
                strokeWidth="2"
              />
              <polygon points="5,10 15,10 10,0" fill="gray" />
              <polygon points="5,490 15,490 10,500" fill="gray" />
            </svg>

            {/* Dual-sided Horizontal Arrow */}
            <svg
              className="absolute top-[53%] lg:top-1/2 left-7 lg:left-0 -translate-y-1/2 w-[83%] lg:w-[100%]"
              width="100%"
              height="20"
              viewBox="0 0 500 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <line
                x1="0"
                y1="10"
                x2="500"
                y2="10"
                stroke="gray"
                strokeWidth="2"
              />
              <polygon points="10,5 10,15 0,10" fill="gray" />
              <polygon points="490,5 490,15 500,10" fill="gray" />
            </svg>

            {/* Grid Items */}
            <div className="grid grid-cols-2 gap-6 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[70%] lg:w-[50%]">
              {[
                { title: "Lime Green", color: "bg-green-300" },
                { title: "Olive Green", color: "bg-[#c7ffe5]" },
                { title: "Orange", color: "#FFA500" },
                { title: "Yellow", color: "bg-yellow-500" },
              ].map((item, i) => (
                <div
                  key={i}
                  className={`border px-2 py-5 lg:px-4 lg:py-10 rounded-lg text-center shadow-md ${
                    stockData?.quadrant === item.title && item.color
                  }`}
                >
                  <Image
                    src="/images/tree.png"
                    alt={item.title}
                    width={60}
                    height={60}
                    className="mx-auto"
                  />
                  <h1 className="mt-4 text-lg font-semibold text-gray-800">
                    {item.title}
                  </h1>
                </div>
              ))}
            </div>
          </div>

          {/* Results Section */}
          <div className="w-full lg:w-1/2 shadow-md p-6 rounded-xl border bg-white">
            <div className="flex gap-3 lg:gap-0 justify-between items-center mb-10">
              <div className="flex items-center gap-4 lg:w-1/3">
                <h1 className="text-xl font-bold mb-2 text-gray-800 truncate ">
                  {stockData?.company}
                </h1>
                {stockData?.logo && (
                  <Image
                    src={stockData.logo}
                    alt="Company Logo"
                    width={1000}
                    height={1000}
                    className="h-[38px] w-[38px] rounded-full"
                  />
                )}
              </div>

              <div className=" lg:w-1/3 flex justify-end">
                <Link href={`/deep-research/${query}`}>
                  <button className="bg-green-500 text-white font-semibold lg:px-3 lg:py-2 rounded-lg">
                    Deep Research
                  </button>
                </Link>
              </div>

              <div className="lg:w-1/3 flex items-center justify-end">
                <Image
                  src={
                    stockData?.shariaCompliant
                      ? "/images/chad.png"
                      : "/images/chadRed.png"
                  }
                  alt="Chad Logo"
                  width={40}
                  height={40}
                />

                <div className="relative group inline-block">
                  {/* Tooltip Trigger Icon */}
                  <div className="h-5 w-5 rounded-full bg-gray-500 text-white flex justify-center items-center cursor-pointer text-sm">
                    ?
                  </div>

                  {/* Tooltip Box */}
                  <div className="absolute z-10 hidden group-hover:block bg-white border border-gray-300 shadow-lg px-2 py-1 rounded-md w-max min-w-[150px] top-full mt-1 left-1/2 -translate-x-1/2">
                    <p className="text-xs text-gray-700 whitespace-pre-wrap">
                      {stockData?.reason}
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div className="">
              <svg
                width="369"
                height="191"
                viewBox="0 0 369 191"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="mx-auto h-[230px] w-[80%]"
              >
                <Link href={`/graphic-concept`}>
                  <rect
                    x="307.557"
                    y="19.252"
                    width="32.4444"
                    height="32.4444"
                    rx="16.2222"
                    fill="#676767"
                  />
                </Link>
                <path
                  d="M322.624 39.3246H324.382V40.9746H322.624V39.3246ZM323.796 29.9746C326.932 30.0956 328.297 33.0656 326.434 35.2931C325.947 35.8431 325.162 36.2061 324.775 36.6681C324.382 37.1246 324.382 37.6746 324.382 38.2246H322.624C322.624 37.3061 322.624 36.5306 323.016 35.9806C323.403 35.4306 324.189 35.1061 324.675 34.7431C326.094 33.5111 325.742 31.7676 323.796 31.6246C323.33 31.6246 322.882 31.7984 322.553 32.1079C322.223 32.4173 322.038 32.837 322.038 33.2746H320.279C320.279 32.3994 320.65 31.56 321.309 30.9412C321.969 30.3223 322.863 29.9746 323.796 29.9746Z"
                  fill="white"
                />
                <path
                  d="M225.361 33.3092L225.484 28.8699L227.931 28.87L227.93 33.2973C244.486 37.2315 246.519 66.8143 237.377 80.1525C229.77 91.2512 221.267 88.4465 217.967 85.6568C207.491 77.3919 207.835 60.9144 209.317 53.7087C211.795 37.6732 221.045 33.4276 225.361 33.3092Z"
                  fill={`${stockData?.olives?.valuation}`}
                />
                <path
                  d="M232.203 38.033L230.362 37.9533C236.306 42.4438 237.066 51.0313 237.196 55.5522C238.263 63.8277 236.653 76.9332 230.008 83.6572C229.187 84.6992 227.581 85.3951 226.98 85.668C237.785 86.163 240.331 62.7676 238.823 52.5304C238.049 43.6958 234.087 39.1844 232.203 38.033Z"
                  fill="white"
                />
                <path
                  d="M154.376 24.1034C154.35 23.9941 154.323 23.8877 154.298 23.7798L125.42 11.185L153.646 22.2997L153.698 21.329L153.617 21.302C143.54 -11.2344 100.541 3.4891 100.541 3.4891C100.541 3.4891 123.907 45.3747 154.376 24.1034Z"
                  fill="#406325"
                />
                <path
                  d="M188.163 36.2371L186.92 31.944L186.876 31.8099L189.446 31.4629L190.603 35.4322C207.551 34.0906 218.547 61.8171 213.94 77.4244C210.107 90.4112 201.162 90.3486 197.169 88.6939C184.675 84.0072 179.955 68.1077 179.156 60.7438C176.601 44.6088 184.096 37.6831 188.163 36.2371Z"
                  fill={`${stockData?.olives?.competitiveAdvantage}`}
                />
                <path
                  d="M196.304 38.9141L194.527 39.4026C201.562 41.854 204.919 49.7945 206.429 54.0579C209.982 61.6075 212.469 74.5753 208.206 83.0131C207.744 84.2566 206.429 85.4113 205.941 85.8554C216.377 83.0131 211.625 59.9644 207.051 50.6827C203.605 42.5113 198.45 39.4322 196.304 38.9141Z"
                  fill="white"
                />
                <path
                  d="M169.566 37.823L170.951 34.0273H173.722L172.033 38.3465C175.046 38.6999 177.935 41.9549 179.003 43.5382C173.358 55.9634 178.569 70.8056 181.167 75.9537C171.947 99.1201 157.1 91.3107 153.983 84.8538C148.832 76.0409 149.64 63.767 151.04 58.1972C155.23 41.7233 165.137 37.7503 169.566 37.823Z"
                  fill={`${stockData?.olives?.financialHealth}`}
                />
                <path
                  d="M293.557 25.8881L294.197 40.1143C253.538 19.0028 172.949 32.2187 137.737 41.4655C135.8 41.8069 102.382 51.9455 85.9151 56.972L127.913 45.9468L128.269 46.4447C124.966 58.5085 116.405 66.9304 112.538 69.6333C92.2647 81.4695 63.6111 74.5651 51.8184 69.6333C83.139 25.7598 112.419 33.5701 123.144 42.9595C213.063 15.19 274.219 20.0079 293.557 25.8881Z"
                  fill="#406325"
                />
                <path
                  d="M198.771 170.024L201.658 165.024L195.885 165.024L198.771 170.024ZM198.271 89.8672L198.271 165.524L199.271 165.524L199.271 89.8672L198.271 89.8672Z"
                  fill="black"
                />
                <path
                  d="M339.93 170.022L337.109 164.984L342.882 165.06L339.93 170.022ZM238.922 79.8275C255.912 82.3043 281.023 89.5328 302.025 103.219C323.032 116.909 339.991 137.107 340.489 165.514L339.489 165.532C338.999 137.575 322.326 117.642 301.479 104.057C280.628 90.4686 255.663 83.2786 238.778 80.817L238.922 79.8275Z"
                  fill="black"
                />
                <path
                  d="M48.0698 170.022L50.8911 164.984L45.1181 165.06L48.0698 170.022ZM149.078 79.8275C132.088 82.3043 106.977 89.5328 85.9748 103.219C64.9677 116.909 48.0089 137.107 47.5112 165.514L48.5111 165.532C49.0009 137.575 65.674 117.642 86.5208 104.057C107.372 90.4686 132.337 83.2786 149.222 80.817L149.078 79.8275Z"
                  fill="black"
                />
                <path
                  d="M5.73989 178.47V179.358H2.10389V182.178H5.05589V183.066H2.10389V186.834H1.01189V178.47H5.73989ZM7.62277 179.19C7.41477 179.19 7.23877 179.118 7.09477 178.974C6.95077 178.83 6.87877 178.654 6.87877 178.446C6.87877 178.238 6.95077 178.062 7.09477 177.918C7.23877 177.774 7.41477 177.702 7.62277 177.702C7.82277 177.702 7.99077 177.774 8.12677 177.918C8.27077 178.062 8.34277 178.238 8.34277 178.446C8.34277 178.654 8.27077 178.83 8.12677 178.974C7.99077 179.118 7.82277 179.19 7.62277 179.19ZM8.15077 180.258V186.834H7.05877V180.258H8.15077ZM13.2159 180.138C14.0159 180.138 14.6639 180.382 15.1599 180.87C15.6559 181.35 15.9039 182.046 15.9039 182.958V186.834H14.8239V183.114C14.8239 182.458 14.6599 181.958 14.3319 181.614C14.0039 181.262 13.5559 181.086 12.9879 181.086C12.4119 181.086 11.9519 181.266 11.6079 181.626C11.2719 181.986 11.1039 182.51 11.1039 183.198V186.834H10.0119V180.258H11.1039V181.194C11.3199 180.858 11.6119 180.598 11.9799 180.414C12.3559 180.23 12.7679 180.138 13.2159 180.138ZM17.2797 183.522C17.2797 182.85 17.4157 182.262 17.6877 181.758C17.9597 181.246 18.3317 180.85 18.8037 180.57C19.2837 180.29 19.8157 180.15 20.3997 180.15C20.9757 180.15 21.4757 180.274 21.8997 180.522C22.3237 180.77 22.6397 181.082 22.8477 181.458V180.258H23.9517V186.834H22.8477V185.61C22.6317 185.994 22.3077 186.314 21.8757 186.57C21.4517 186.818 20.9557 186.942 20.3877 186.942C19.8037 186.942 19.2757 186.798 18.8037 186.51C18.3317 186.222 17.9597 185.818 17.6877 185.298C17.4157 184.778 17.2797 184.186 17.2797 183.522ZM22.8477 183.534C22.8477 183.038 22.7477 182.606 22.5477 182.238C22.3477 181.87 22.0757 181.59 21.7317 181.398C21.3957 181.198 21.0237 181.098 20.6157 181.098C20.2077 181.098 19.8357 181.194 19.4997 181.386C19.1637 181.578 18.8957 181.858 18.6957 182.226C18.4957 182.594 18.3957 183.026 18.3957 183.522C18.3957 184.026 18.4957 184.466 18.6957 184.842C18.8957 185.21 19.1637 185.494 19.4997 185.694C19.8357 185.886 20.2077 185.982 20.6157 185.982C21.0237 185.982 21.3957 185.886 21.7317 185.694C22.0757 185.494 22.3477 185.21 22.5477 184.842C22.7477 184.466 22.8477 184.03 22.8477 183.534ZM29.001 180.138C29.801 180.138 30.449 180.382 30.945 180.87C31.441 181.35 31.689 182.046 31.689 182.958V186.834H30.609V183.114C30.609 182.458 30.445 181.958 30.117 181.614C29.789 181.262 29.341 181.086 28.773 181.086C28.197 181.086 27.737 181.266 27.393 181.626C27.057 181.986 26.889 182.51 26.889 183.198V186.834H25.797V180.258H26.889V181.194C27.105 180.858 27.397 180.598 27.765 180.414C28.141 180.23 28.553 180.138 29.001 180.138ZM33.0648 183.534C33.0648 182.854 33.2008 182.262 33.4728 181.758C33.7448 181.246 34.1208 180.85 34.6008 180.57C35.0888 180.29 35.6448 180.15 36.2688 180.15C37.0768 180.15 37.7408 180.346 38.2608 180.738C38.7888 181.13 39.1368 181.674 39.3048 182.37H38.1288C38.0168 181.97 37.7968 181.654 37.4688 181.422C37.1488 181.19 36.7488 181.074 36.2688 181.074C35.6448 181.074 35.1408 181.29 34.7568 181.722C34.3728 182.146 34.1808 182.75 34.1808 183.534C34.1808 184.326 34.3728 184.938 34.7568 185.37C35.1408 185.802 35.6448 186.018 36.2688 186.018C36.7488 186.018 37.1488 185.906 37.4688 185.682C37.7888 185.458 38.0088 185.138 38.1288 184.722H39.3048C39.1288 185.394 38.7768 185.934 38.2488 186.342C37.7208 186.742 37.0608 186.942 36.2688 186.942C35.6448 186.942 35.0888 186.802 34.6008 186.522C34.1208 186.242 33.7448 185.846 33.4728 185.334C33.2008 184.822 33.0648 184.222 33.0648 183.534ZM41.3259 179.19C41.1179 179.19 40.9419 179.118 40.7979 178.974C40.6539 178.83 40.5819 178.654 40.5819 178.446C40.5819 178.238 40.6539 178.062 40.7979 177.918C40.9419 177.774 41.1179 177.702 41.3259 177.702C41.5259 177.702 41.6939 177.774 41.8299 177.918C41.9739 178.062 42.0459 178.238 42.0459 178.446C42.0459 178.654 41.9739 178.83 41.8299 178.974C41.6939 179.118 41.5259 179.19 41.3259 179.19ZM41.8539 180.258V186.834H40.7619V180.258H41.8539ZM43.307 183.522C43.307 182.85 43.443 182.262 43.715 181.758C43.987 181.246 44.359 180.85 44.831 180.57C45.311 180.29 45.843 180.15 46.427 180.15C47.003 180.15 47.503 180.274 47.927 180.522C48.351 180.77 48.667 181.082 48.875 181.458V180.258H49.979V186.834H48.875V185.61C48.659 185.994 48.335 186.314 47.903 186.57C47.479 186.818 46.983 186.942 46.415 186.942C45.831 186.942 45.303 186.798 44.831 186.51C44.359 186.222 43.987 185.818 43.715 185.298C43.443 184.778 43.307 184.186 43.307 183.522ZM48.875 183.534C48.875 183.038 48.775 182.606 48.575 182.238C48.375 181.87 48.103 181.59 47.759 181.398C47.423 181.198 47.051 181.098 46.643 181.098C46.235 181.098 45.863 181.194 45.527 181.386C45.191 181.578 44.923 181.858 44.723 182.226C44.523 182.594 44.423 183.026 44.423 183.522C44.423 184.026 44.523 184.466 44.723 184.842C44.923 185.21 45.191 185.494 45.527 185.694C45.863 185.886 46.235 185.982 46.643 185.982C47.051 185.982 47.423 185.886 47.759 185.694C48.103 185.494 48.375 185.21 48.575 184.842C48.775 184.466 48.875 184.03 48.875 183.534ZM52.9164 177.954V186.834H51.8244V177.954H52.9164ZM64.4207 178.47V186.834H63.3287V183.042H59.0687V186.834H57.9767V178.47H59.0687V182.142H63.3287V178.47H64.4207ZM72.2853 183.294C72.2853 183.502 72.2733 183.722 72.2493 183.954H66.9933C67.0333 184.602 67.2533 185.11 67.6533 185.478C68.0613 185.838 68.5533 186.018 69.1293 186.018C69.6013 186.018 69.9933 185.91 70.3053 185.694C70.6253 185.47 70.8493 185.174 70.9773 184.806H72.1533C71.9773 185.438 71.6253 185.954 71.0973 186.354C70.5693 186.746 69.9133 186.942 69.1293 186.942C68.5053 186.942 67.9453 186.802 67.4493 186.522C66.9613 186.242 66.5773 185.846 66.2973 185.334C66.0173 184.814 65.8773 184.214 65.8773 183.534C65.8773 182.854 66.0133 182.258 66.2853 181.746C66.5573 181.234 66.9373 180.842 67.4253 180.57C67.9213 180.29 68.4893 180.15 69.1293 180.15C69.7533 180.15 70.3053 180.286 70.7853 180.558C71.2653 180.83 71.6333 181.206 71.8893 181.686C72.1533 182.158 72.2853 182.694 72.2853 183.294ZM71.1573 183.066C71.1573 182.65 71.0653 182.294 70.8813 181.998C70.6973 181.694 70.4453 181.466 70.1253 181.314C69.8133 181.154 69.4653 181.074 69.0813 181.074C68.5293 181.074 68.0573 181.25 67.6653 181.602C67.2813 181.954 67.0613 182.442 67.0053 183.066H71.1573ZM73.3187 183.522C73.3187 182.85 73.4547 182.262 73.7267 181.758C73.9987 181.246 74.3707 180.85 74.8427 180.57C75.3227 180.29 75.8547 180.15 76.4387 180.15C77.0147 180.15 77.5147 180.274 77.9387 180.522C78.3627 180.77 78.6787 181.082 78.8867 181.458V180.258H79.9907V186.834H78.8867V185.61C78.6707 185.994 78.3467 186.314 77.9147 186.57C77.4907 186.818 76.9947 186.942 76.4267 186.942C75.8427 186.942 75.3147 186.798 74.8427 186.51C74.3707 186.222 73.9987 185.818 73.7267 185.298C73.4547 184.778 73.3187 184.186 73.3187 183.522ZM78.8867 183.534C78.8867 183.038 78.7867 182.606 78.5867 182.238C78.3867 181.87 78.1147 181.59 77.7707 181.398C77.4347 181.198 77.0627 181.098 76.6547 181.098C76.2467 181.098 75.8747 181.194 75.5387 181.386C75.2027 181.578 74.9347 181.858 74.7347 182.226C74.5347 182.594 74.4347 183.026 74.4347 183.522C74.4347 184.026 74.5347 184.466 74.7347 184.842C74.9347 185.21 75.2027 185.494 75.5387 185.694C75.8747 185.886 76.2467 185.982 76.6547 185.982C77.0627 185.982 77.4347 185.886 77.7707 185.694C78.1147 185.494 78.3867 185.21 78.5867 184.842C78.7867 184.466 78.8867 184.03 78.8867 183.534ZM82.9281 177.954V186.834H81.8361V177.954H82.9281ZM86.1212 181.158V185.034C86.1212 185.354 86.1892 185.582 86.3252 185.718C86.4612 185.846 86.6972 185.91 87.0332 185.91H87.8372V186.834H86.8532C86.2452 186.834 85.7892 186.694 85.4852 186.414C85.1812 186.134 85.0292 185.674 85.0292 185.034V181.158H84.1772V180.258H85.0292V178.602H86.1212V180.258H87.8372V181.158H86.1212ZM92.4243 180.138C92.9203 180.138 93.3683 180.246 93.7683 180.462C94.1683 180.67 94.4803 180.986 94.7043 181.41C94.9363 181.834 95.0523 182.35 95.0523 182.958V186.834H93.9723V183.114C93.9723 182.458 93.8083 181.958 93.4803 181.614C93.1523 181.262 92.7043 181.086 92.1363 181.086C91.5603 181.086 91.1003 181.266 90.7563 181.626C90.4203 181.986 90.2523 182.51 90.2523 183.198V186.834H89.1603V177.954H90.2523V181.194C90.4683 180.858 90.7643 180.598 91.1403 180.414C91.5243 180.23 91.9523 180.138 92.4243 180.138Z"
                  fill="black"
                />
                <path
                  d="M132.709 182.646C132.709 181.83 132.893 181.098 133.261 180.45C133.629 179.794 134.129 179.282 134.761 178.914C135.401 178.546 136.109 178.362 136.885 178.362C137.797 178.362 138.593 178.582 139.273 179.022C139.953 179.462 140.449 180.086 140.761 180.894H139.453C139.221 180.39 138.885 180.002 138.445 179.73C138.013 179.458 137.493 179.322 136.885 179.322C136.301 179.322 135.777 179.458 135.313 179.73C134.849 180.002 134.485 180.39 134.221 180.894C133.957 181.39 133.825 181.974 133.825 182.646C133.825 183.31 133.957 183.894 134.221 184.398C134.485 184.894 134.849 185.278 135.313 185.55C135.777 185.822 136.301 185.958 136.885 185.958C137.493 185.958 138.013 185.826 138.445 185.562C138.885 185.29 139.221 184.902 139.453 184.398H140.761C140.449 185.198 139.953 185.818 139.273 186.258C138.593 186.69 137.797 186.906 136.885 186.906C136.109 186.906 135.401 186.726 134.761 186.366C134.129 185.998 133.629 185.49 133.261 184.842C132.893 184.194 132.709 183.462 132.709 182.646ZM145.255 186.942C144.639 186.942 144.079 186.802 143.575 186.522C143.079 186.242 142.687 185.846 142.399 185.334C142.119 184.814 141.979 184.214 141.979 183.534C141.979 182.862 142.123 182.27 142.411 181.758C142.707 181.238 143.107 180.842 143.611 180.57C144.115 180.29 144.679 180.15 145.303 180.15C145.927 180.15 146.491 180.29 146.995 180.57C147.499 180.842 147.895 181.234 148.183 181.746C148.479 182.258 148.627 182.854 148.627 183.534C148.627 184.214 148.475 184.814 148.171 185.334C147.875 185.846 147.471 186.242 146.959 186.522C146.447 186.802 145.879 186.942 145.255 186.942ZM145.255 185.982C145.647 185.982 146.015 185.89 146.359 185.706C146.703 185.522 146.979 185.246 147.187 184.878C147.403 184.51 147.511 184.062 147.511 183.534C147.511 183.006 147.407 182.558 147.199 182.19C146.991 181.822 146.719 181.55 146.383 181.374C146.047 181.19 145.683 181.098 145.291 181.098C144.891 181.098 144.523 181.19 144.187 181.374C143.859 181.55 143.595 181.822 143.395 182.19C143.195 182.558 143.095 183.006 143.095 183.534C143.095 184.07 143.191 184.522 143.383 184.89C143.583 185.258 143.847 185.534 144.175 185.718C144.503 185.894 144.863 185.982 145.255 185.982ZM157.971 180.138C158.483 180.138 158.939 180.246 159.339 180.462C159.739 180.67 160.055 180.986 160.287 181.41C160.519 181.834 160.635 182.35 160.635 182.958V186.834H159.555V183.114C159.555 182.458 159.391 181.958 159.063 181.614C158.743 181.262 158.307 181.086 157.755 181.086C157.187 181.086 156.735 181.27 156.399 181.638C156.063 181.998 155.895 182.522 155.895 183.21V186.834H154.815V183.114C154.815 182.458 154.651 181.958 154.323 181.614C154.003 181.262 153.567 181.086 153.015 181.086C152.447 181.086 151.995 181.27 151.659 181.638C151.323 181.998 151.155 182.522 151.155 183.21V186.834H150.063V180.258H151.155V181.206C151.371 180.862 151.659 180.598 152.019 180.414C152.387 180.23 152.791 180.138 153.231 180.138C153.783 180.138 154.271 180.262 154.695 180.51C155.119 180.758 155.435 181.122 155.643 181.602C155.827 181.138 156.131 180.778 156.555 180.522C156.979 180.266 157.451 180.138 157.971 180.138ZM163.518 181.47C163.734 181.094 164.054 180.782 164.478 180.534C164.91 180.278 165.41 180.15 165.978 180.15C166.562 180.15 167.09 180.29 167.562 180.57C168.042 180.85 168.418 181.246 168.69 181.758C168.962 182.262 169.098 182.85 169.098 183.522C169.098 184.186 168.962 184.778 168.69 185.298C168.418 185.818 168.042 186.222 167.562 186.51C167.09 186.798 166.562 186.942 165.978 186.942C165.418 186.942 164.922 186.818 164.49 186.57C164.066 186.314 163.742 185.998 163.518 185.622V189.954H162.426V180.258H163.518V181.47ZM167.982 183.522C167.982 183.026 167.882 182.594 167.682 182.226C167.482 181.858 167.21 181.578 166.866 181.386C166.53 181.194 166.158 181.098 165.75 181.098C165.35 181.098 164.978 181.198 164.634 181.398C164.298 181.59 164.026 181.874 163.818 182.25C163.618 182.618 163.518 183.046 163.518 183.534C163.518 184.03 163.618 184.466 163.818 184.842C164.026 185.21 164.298 185.494 164.634 185.694C164.978 185.886 165.35 185.982 165.75 185.982C166.158 185.982 166.53 185.886 166.866 185.694C167.21 185.494 167.482 185.21 167.682 184.842C167.882 184.466 167.982 184.026 167.982 183.522ZM176.535 183.294C176.535 183.502 176.523 183.722 176.499 183.954H171.243C171.283 184.602 171.503 185.11 171.903 185.478C172.311 185.838 172.803 186.018 173.379 186.018C173.851 186.018 174.243 185.91 174.555 185.694C174.875 185.47 175.099 185.174 175.227 184.806H176.403C176.227 185.438 175.875 185.954 175.347 186.354C174.819 186.746 174.163 186.942 173.379 186.942C172.755 186.942 172.195 186.802 171.699 186.522C171.211 186.242 170.827 185.846 170.547 185.334C170.267 184.814 170.127 184.214 170.127 183.534C170.127 182.854 170.263 182.258 170.535 181.746C170.807 181.234 171.187 180.842 171.675 180.57C172.171 180.29 172.739 180.15 173.379 180.15C174.003 180.15 174.555 180.286 175.035 180.558C175.515 180.83 175.883 181.206 176.139 181.686C176.403 182.158 176.535 182.694 176.535 183.294ZM175.407 183.066C175.407 182.65 175.315 182.294 175.131 181.998C174.947 181.694 174.695 181.466 174.375 181.314C174.063 181.154 173.715 181.074 173.331 181.074C172.779 181.074 172.307 181.25 171.915 181.602C171.531 181.954 171.311 182.442 171.255 183.066H175.407ZM179.309 181.158V185.034C179.309 185.354 179.377 185.582 179.513 185.718C179.649 185.846 179.885 185.91 180.221 185.91H181.025V186.834H180.041C179.433 186.834 178.977 186.694 178.673 186.414C178.369 186.134 178.217 185.674 178.217 185.034V181.158H177.365V180.258H178.217V178.602H179.309V180.258H181.025V181.158H179.309ZM182.912 179.19C182.704 179.19 182.528 179.118 182.384 178.974C182.24 178.83 182.168 178.654 182.168 178.446C182.168 178.238 182.24 178.062 182.384 177.918C182.528 177.774 182.704 177.702 182.912 177.702C183.112 177.702 183.28 177.774 183.416 177.918C183.56 178.062 183.632 178.238 183.632 178.446C183.632 178.654 183.56 178.83 183.416 178.974C183.28 179.118 183.112 179.19 182.912 179.19ZM183.44 180.258V186.834H182.348V180.258H183.44ZM186.633 181.158V185.034C186.633 185.354 186.701 185.582 186.837 185.718C186.973 185.846 187.209 185.91 187.545 185.91H188.349V186.834H187.365C186.757 186.834 186.301 186.694 185.997 186.414C185.693 186.134 185.541 185.674 185.541 185.034V181.158H184.689V180.258H185.541V178.602H186.633V180.258H188.349V181.158H186.633ZM190.236 179.19C190.028 179.19 189.852 179.118 189.708 178.974C189.564 178.83 189.492 178.654 189.492 178.446C189.492 178.238 189.564 178.062 189.708 177.918C189.852 177.774 190.028 177.702 190.236 177.702C190.436 177.702 190.604 177.774 190.74 177.918C190.884 178.062 190.956 178.238 190.956 178.446C190.956 178.654 190.884 178.83 190.74 178.974C190.604 179.118 190.436 179.19 190.236 179.19ZM190.764 180.258V186.834H189.672V180.258H190.764ZM195.073 185.826L197.113 180.258H198.277L195.697 186.834H194.425L191.845 180.258H193.021L195.073 185.826ZM205.352 183.294C205.352 183.502 205.34 183.722 205.316 183.954H200.06C200.1 184.602 200.32 185.11 200.72 185.478C201.128 185.838 201.62 186.018 202.196 186.018C202.668 186.018 203.06 185.91 203.372 185.694C203.692 185.47 203.916 185.174 204.044 184.806H205.22C205.044 185.438 204.692 185.954 204.164 186.354C203.636 186.746 202.98 186.942 202.196 186.942C201.572 186.942 201.012 186.802 200.516 186.522C200.028 186.242 199.644 185.846 199.364 185.334C199.084 184.814 198.944 184.214 198.944 183.534C198.944 182.854 199.08 182.258 199.352 181.746C199.624 181.234 200.004 180.842 200.492 180.57C200.988 180.29 201.556 180.15 202.196 180.15C202.82 180.15 203.372 180.286 203.852 180.558C204.332 180.83 204.7 181.206 204.956 181.686C205.22 182.158 205.352 182.694 205.352 183.294ZM204.224 183.066C204.224 182.65 204.132 182.294 203.948 181.998C203.764 181.694 203.512 181.466 203.192 181.314C202.88 181.154 202.532 181.074 202.148 181.074C201.596 181.074 201.124 181.25 200.732 181.602C200.348 181.954 200.128 182.442 200.072 183.066H204.224ZM214.936 184.974H211.288L210.616 186.834H209.464L212.488 178.518H213.748L216.76 186.834H215.608L214.936 184.974ZM214.624 184.086L213.112 179.862L211.6 184.086H214.624ZM217.67 183.522C217.67 182.85 217.806 182.262 218.078 181.758C218.35 181.246 218.722 180.85 219.194 180.57C219.674 180.29 220.21 180.15 220.802 180.15C221.314 180.15 221.79 180.27 222.23 180.51C222.67 180.742 223.006 181.05 223.238 181.434V177.954H224.342V186.834H223.238V185.598C223.022 185.99 222.702 186.314 222.278 186.57C221.854 186.818 221.358 186.942 220.79 186.942C220.206 186.942 219.674 186.798 219.194 186.51C218.722 186.222 218.35 185.818 218.078 185.298C217.806 184.778 217.67 184.186 217.67 183.522ZM223.238 183.534C223.238 183.038 223.138 182.606 222.938 182.238C222.738 181.87 222.466 181.59 222.122 181.398C221.786 181.198 221.414 181.098 221.006 181.098C220.598 181.098 220.226 181.194 219.89 181.386C219.554 181.578 219.286 181.858 219.086 182.226C218.886 182.594 218.786 183.026 218.786 183.522C218.786 184.026 218.886 184.466 219.086 184.842C219.286 185.21 219.554 185.494 219.89 185.694C220.226 185.886 220.598 185.982 221.006 185.982C221.414 185.982 221.786 185.886 222.122 185.694C222.466 185.494 222.738 185.21 222.938 184.842C223.138 184.466 223.238 184.03 223.238 183.534ZM228.636 185.826L230.676 180.258H231.84L229.26 186.834H227.988L225.408 180.258H226.584L228.636 185.826ZM232.506 183.522C232.506 182.85 232.642 182.262 232.914 181.758C233.186 181.246 233.558 180.85 234.03 180.57C234.51 180.29 235.042 180.15 235.626 180.15C236.202 180.15 236.702 180.274 237.126 180.522C237.55 180.77 237.866 181.082 238.074 181.458V180.258H239.178V186.834H238.074V185.61C237.858 185.994 237.534 186.314 237.102 186.57C236.678 186.818 236.182 186.942 235.614 186.942C235.03 186.942 234.502 186.798 234.03 186.51C233.558 186.222 233.186 185.818 232.914 185.298C232.642 184.778 232.506 184.186 232.506 183.522ZM238.074 183.534C238.074 183.038 237.974 182.606 237.774 182.238C237.574 181.87 237.302 181.59 236.958 181.398C236.622 181.198 236.25 181.098 235.842 181.098C235.434 181.098 235.062 181.194 234.726 181.386C234.39 181.578 234.122 181.858 233.922 182.226C233.722 182.594 233.622 183.026 233.622 183.522C233.622 184.026 233.722 184.466 233.922 184.842C234.122 185.21 234.39 185.494 234.726 185.694C235.062 185.886 235.434 185.982 235.842 185.982C236.25 185.982 236.622 185.886 236.958 185.694C237.302 185.494 237.574 185.21 237.774 184.842C237.974 184.466 238.074 184.03 238.074 183.534ZM244.228 180.138C245.028 180.138 245.676 180.382 246.172 180.87C246.668 181.35 246.916 182.046 246.916 182.958V186.834H245.836V183.114C245.836 182.458 245.672 181.958 245.344 181.614C245.016 181.262 244.568 181.086 244 181.086C243.424 181.086 242.964 181.266 242.62 181.626C242.284 181.986 242.116 182.51 242.116 183.198V186.834H241.024V180.258H242.116V181.194C242.332 180.858 242.624 180.598 242.992 180.414C243.368 180.23 243.78 180.138 244.228 180.138ZM250.031 181.158V185.034C250.031 185.354 250.099 185.582 250.235 185.718C250.371 185.846 250.607 185.91 250.943 185.91H251.747V186.834H250.763C250.155 186.834 249.699 186.694 249.395 186.414C249.091 186.134 248.939 185.674 248.939 185.034V181.158H248.087V180.258H248.939V178.602H250.031V180.258H251.747V181.158H250.031ZM252.662 183.522C252.662 182.85 252.798 182.262 253.07 181.758C253.342 181.246 253.714 180.85 254.186 180.57C254.666 180.29 255.198 180.15 255.782 180.15C256.358 180.15 256.858 180.274 257.282 180.522C257.706 180.77 258.022 181.082 258.23 181.458V180.258H259.334V186.834H258.23V185.61C258.014 185.994 257.69 186.314 257.258 186.57C256.834 186.818 256.338 186.942 255.77 186.942C255.186 186.942 254.658 186.798 254.186 186.51C253.714 186.222 253.342 185.818 253.07 185.298C252.798 184.778 252.662 184.186 252.662 183.522ZM258.23 183.534C258.23 183.038 258.13 182.606 257.93 182.238C257.73 181.87 257.458 181.59 257.114 181.398C256.778 181.198 256.406 181.098 255.998 181.098C255.59 181.098 255.218 181.194 254.882 181.386C254.546 181.578 254.278 181.858 254.078 182.226C253.878 182.594 253.778 183.026 253.778 183.522C253.778 184.026 253.878 184.466 254.078 184.842C254.278 185.21 254.546 185.494 254.882 185.694C255.218 185.886 255.59 185.982 255.998 185.982C256.406 185.982 256.778 185.886 257.114 185.694C257.458 185.494 257.73 185.21 257.93 184.842C258.13 184.466 258.23 184.03 258.23 183.534ZM263.892 180.15C264.46 180.15 264.956 180.274 265.38 180.522C265.812 180.77 266.132 181.082 266.34 181.458V180.258H267.444V186.978C267.444 187.578 267.316 188.11 267.06 188.574C266.804 189.046 266.436 189.414 265.956 189.678C265.484 189.942 264.932 190.074 264.3 190.074C263.436 190.074 262.716 189.87 262.14 189.462C261.564 189.054 261.224 188.498 261.12 187.794H262.2C262.32 188.194 262.568 188.514 262.944 188.754C263.32 189.002 263.772 189.126 264.3 189.126C264.9 189.126 265.388 188.938 265.764 188.562C266.148 188.186 266.34 187.658 266.34 186.978V185.598C266.124 185.982 265.804 186.302 265.38 186.558C264.956 186.814 264.46 186.942 263.892 186.942C263.308 186.942 262.776 186.798 262.296 186.51C261.824 186.222 261.452 185.818 261.18 185.298C260.908 184.778 260.772 184.186 260.772 183.522C260.772 182.85 260.908 182.262 261.18 181.758C261.452 181.246 261.824 180.85 262.296 180.57C262.776 180.29 263.308 180.15 263.892 180.15ZM266.34 183.534C266.34 183.038 266.24 182.606 266.04 182.238C265.84 181.87 265.568 181.59 265.224 181.398C264.888 181.198 264.516 181.098 264.108 181.098C263.7 181.098 263.328 181.194 262.992 181.386C262.656 181.578 262.388 181.858 262.188 182.226C261.988 182.594 261.888 183.026 261.888 183.522C261.888 184.026 261.988 184.466 262.188 184.842C262.388 185.21 262.656 185.494 262.992 185.694C263.328 185.886 263.7 185.982 264.108 185.982C264.516 185.982 264.888 185.886 265.224 185.694C265.568 185.494 265.84 185.21 266.04 184.842C266.24 184.466 266.34 184.03 266.34 183.534ZM275.289 183.294C275.289 183.502 275.277 183.722 275.253 183.954H269.997C270.037 184.602 270.257 185.11 270.657 185.478C271.065 185.838 271.557 186.018 272.133 186.018C272.605 186.018 272.997 185.91 273.309 185.694C273.629 185.47 273.853 185.174 273.981 184.806H275.157C274.981 185.438 274.629 185.954 274.101 186.354C273.573 186.746 272.917 186.942 272.133 186.942C271.509 186.942 270.949 186.802 270.453 186.522C269.965 186.242 269.581 185.846 269.301 185.334C269.021 184.814 268.881 184.214 268.881 183.534C268.881 182.854 269.017 182.258 269.289 181.746C269.561 181.234 269.941 180.842 270.429 180.57C270.925 180.29 271.493 180.15 272.133 180.15C272.757 180.15 273.309 180.286 273.789 180.558C274.269 180.83 274.637 181.206 274.893 181.686C275.157 182.158 275.289 182.694 275.289 183.294ZM274.161 183.066C274.161 182.65 274.069 182.294 273.885 181.998C273.701 181.694 273.449 181.466 273.129 181.314C272.817 181.154 272.469 181.074 272.085 181.074C271.533 181.074 271.061 181.25 270.669 181.602C270.285 181.954 270.065 182.442 270.009 183.066H274.161Z"
                  fill="black"
                />
                <path
                  d="M319.02 178.47L315.864 186.834H314.604L311.448 178.47H312.612L315.24 185.682L317.868 178.47H319.02ZM319.809 183.522C319.809 182.85 319.945 182.262 320.217 181.758C320.489 181.246 320.861 180.85 321.333 180.57C321.813 180.29 322.345 180.15 322.929 180.15C323.505 180.15 324.005 180.274 324.429 180.522C324.853 180.77 325.169 181.082 325.377 181.458V180.258H326.481V186.834H325.377V185.61C325.161 185.994 324.837 186.314 324.405 186.57C323.981 186.818 323.485 186.942 322.917 186.942C322.333 186.942 321.805 186.798 321.333 186.51C320.861 186.222 320.489 185.818 320.217 185.298C319.945 184.778 319.809 184.186 319.809 183.522ZM325.377 183.534C325.377 183.038 325.277 182.606 325.077 182.238C324.877 181.87 324.605 181.59 324.261 181.398C323.925 181.198 323.553 181.098 323.145 181.098C322.737 181.098 322.365 181.194 322.029 181.386C321.693 181.578 321.425 181.858 321.225 182.226C321.025 182.594 320.925 183.026 320.925 183.522C320.925 184.026 321.025 184.466 321.225 184.842C321.425 185.21 321.693 185.494 322.029 185.694C322.365 185.886 322.737 185.982 323.145 185.982C323.553 185.982 323.925 185.886 324.261 185.694C324.605 185.494 324.877 185.21 325.077 184.842C325.277 184.466 325.377 184.03 325.377 183.534ZM329.418 177.954V186.834H328.326V177.954H329.418ZM337.111 180.258V186.834H336.019V185.862C335.811 186.198 335.519 186.462 335.143 186.654C334.775 186.838 334.367 186.93 333.919 186.93C333.407 186.93 332.947 186.826 332.539 186.618C332.131 186.402 331.807 186.082 331.567 185.658C331.335 185.234 331.219 184.718 331.219 184.11V180.258H332.299V183.966C332.299 184.614 332.463 185.114 332.791 185.466C333.119 185.81 333.567 185.982 334.135 185.982C334.719 185.982 335.179 185.802 335.515 185.442C335.851 185.082 336.019 184.558 336.019 183.87V180.258H337.111ZM338.547 183.522C338.547 182.85 338.683 182.262 338.955 181.758C339.227 181.246 339.599 180.85 340.071 180.57C340.551 180.29 341.083 180.15 341.667 180.15C342.243 180.15 342.743 180.274 343.167 180.522C343.591 180.77 343.907 181.082 344.115 181.458V180.258H345.219V186.834H344.115V185.61C343.899 185.994 343.575 186.314 343.143 186.57C342.719 186.818 342.223 186.942 341.655 186.942C341.071 186.942 340.543 186.798 340.071 186.51C339.599 186.222 339.227 185.818 338.955 185.298C338.683 184.778 338.547 184.186 338.547 183.522ZM344.115 183.534C344.115 183.038 344.015 182.606 343.815 182.238C343.615 181.87 343.343 181.59 342.999 181.398C342.663 181.198 342.291 181.098 341.883 181.098C341.475 181.098 341.103 181.194 340.767 181.386C340.431 181.578 340.163 181.858 339.963 182.226C339.763 182.594 339.663 183.026 339.663 183.522C339.663 184.026 339.763 184.466 339.963 184.842C340.163 185.21 340.431 185.494 340.767 185.694C341.103 185.886 341.475 185.982 341.883 185.982C342.291 185.982 342.663 185.886 342.999 185.694C343.343 185.494 343.615 185.21 343.815 184.842C344.015 184.466 344.115 184.03 344.115 183.534ZM348.397 181.158V185.034C348.397 185.354 348.465 185.582 348.601 185.718C348.737 185.846 348.973 185.91 349.309 185.91H350.113V186.834H349.129C348.521 186.834 348.065 186.694 347.761 186.414C347.457 186.134 347.305 185.674 347.305 185.034V181.158H346.453V180.258H347.305V178.602H348.397V180.258H350.113V181.158H348.397ZM352 179.19C351.792 179.19 351.616 179.118 351.472 178.974C351.328 178.83 351.256 178.654 351.256 178.446C351.256 178.238 351.328 178.062 351.472 177.918C351.616 177.774 351.792 177.702 352 177.702C352.2 177.702 352.368 177.774 352.504 177.918C352.648 178.062 352.72 178.238 352.72 178.446C352.72 178.654 352.648 178.83 352.504 178.974C352.368 179.118 352.2 179.19 352 179.19ZM352.528 180.258V186.834H351.436V180.258H352.528ZM357.257 186.942C356.641 186.942 356.081 186.802 355.577 186.522C355.081 186.242 354.689 185.846 354.401 185.334C354.121 184.814 353.981 184.214 353.981 183.534C353.981 182.862 354.125 182.27 354.413 181.758C354.709 181.238 355.109 180.842 355.613 180.57C356.117 180.29 356.681 180.15 357.305 180.15C357.929 180.15 358.493 180.29 358.997 180.57C359.501 180.842 359.897 181.234 360.185 181.746C360.481 182.258 360.629 182.854 360.629 183.534C360.629 184.214 360.477 184.814 360.173 185.334C359.877 185.846 359.473 186.242 358.961 186.522C358.449 186.802 357.881 186.942 357.257 186.942ZM357.257 185.982C357.649 185.982 358.017 185.89 358.361 185.706C358.705 185.522 358.981 185.246 359.189 184.878C359.405 184.51 359.513 184.062 359.513 183.534C359.513 183.006 359.409 182.558 359.201 182.19C358.993 181.822 358.721 181.55 358.385 181.374C358.049 181.19 357.685 181.098 357.293 181.098C356.893 181.098 356.525 181.19 356.189 181.374C355.861 181.55 355.597 181.822 355.397 182.19C355.197 182.558 355.097 183.006 355.097 183.534C355.097 184.07 355.193 184.522 355.385 184.89C355.585 185.258 355.849 185.534 356.177 185.718C356.505 185.894 356.865 185.982 357.257 185.982ZM365.269 180.138C366.069 180.138 366.717 180.382 367.213 180.87C367.709 181.35 367.957 182.046 367.957 182.958V186.834H366.877V183.114C366.877 182.458 366.713 181.958 366.385 181.614C366.057 181.262 365.609 181.086 365.041 181.086C364.465 181.086 364.005 181.266 363.661 181.626C363.325 181.986 363.157 182.51 363.157 183.198V186.834H362.065V180.258H363.157V181.194C363.373 180.858 363.665 180.598 364.033 180.414C364.409 180.23 364.821 180.138 365.269 180.138Z"
                  fill="black"
                />
              </svg>
            </div>

            <div className="mt-10">
              <svg
                width="587"
                height="94"
                viewBox="0 0 587 94"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="w-full h-[93px]"
              >
                {/* Main curved path */}
                <path
                  d="M25.4393 61.2056C25.2118 57.086 28.9466 49.3388 45.7053 51.3069H219.843C223.437 51.463 230.624 49.5612 230.624 40.7051C230.965 44.239 233.394 51.3069 240.382 51.3069H424.823C428.371 51.2093 435.672 53.0525 436.491 61.2056"
                  stroke="url(#paint0_linear_dynamic)"
                  strokeWidth="12"
                />

                {/* Under Value Box */}
                <rect x="0.5" y="1.33398" width="87" height="23" fill="white" />
                <rect
                  x="0.5"
                  y="1.33398"
                  width="87"
                  height="23"
                  stroke="#C8C8C8"
                />
                <text
                  x="44"
                  y="16"
                  textAnchor="middle"
                  className="text-xs font-medium"
                  fill="#FFD700"
                >
                  Under Value
                </text>

                {/* Fair Value Box */}
                <rect
                  x="187.5"
                  y="1.33398"
                  width="87"
                  height="23"
                  stroke="#C8C8C8"
                  fill="white"
                />
                <text
                  x="231"
                  y="16"
                  textAnchor="middle"
                  className="text-xs font-medium"
                  fill="#28A745"
                >
                  Fair Value
                </text>

                {/* Over Value Box */}
                <rect
                  x="374.5"
                  y="1.33398"
                  width="87"
                  height="23"
                  stroke="#C8C8C8"
                  fill="white"
                  className="bg-green-500"
                />
                <text
                  x="418"
                  y="16"
                  textAnchor="middle"
                  className="text-xs font-medium"
                  fill="#FF5733"
                >
                  Over Value
                </text>

                {/* Price indicators */}
                <text
                  x="231"
                  y="88"
                  textAnchor="middle"
                  className="text-sm font-bold"
                  fill="black"
                >
                  ${stockData?.valuationBar?.fairValue}
                </text>

                <text
                  x="353"
                  y="88"
                  textAnchor="middle"
                  className="text-sm font-bold"
                  fill="#FF5733"
                >
                  ${stockData?.valuationBar?.currentPrice}
                </text>

                {/* Status indicator box */}
                <rect
                  x="461.5"
                  y="41.334"
                  width="125"
                  height="52"
                  rx="3.5"
                  stroke="#C8C8C8"
                  fill="white"
                />

                <text
                  x="524"
                  y="65"
                  textAnchor="middle"
                  className="text-xs font-bold"
                  fill={"#03AC13"}
                >
                  {Math.abs(percentDiff).toFixed(2)}%
                </text>
                <text
                  x="524"
                  y="77"
                  textAnchor="middle"
                  className="text-xs font-medium"
                  fill={"#03AC13"}
                >
                  {statusInfo.text}
                </text>

                {/* Directional arrows */}
                {isUndervalued && (
                  <path
                    d="M230.201 30.084C230.778 29.084 232.222 29.084 232.799 30.084L241.026 44.334C241.604 45.334 240.882 46.584 239.727 46.584H223.273C222.118 46.584 221.396 45.334 221.974 44.334L230.201 30.084Z"
                    fill="#03AC13"
                  />
                )}

                {isOvervalued && (
                  <path
                    d="M352.293 75.5411C352.683 75.9316 353.317 75.9316 353.707 75.5411L360.071 69.1771C360.462 68.7866 360.462 68.1534 360.071 67.7629C359.681 67.3724 359.047 67.3724 358.657 67.7629L353 73.4198L347.343 67.7629C346.953 67.3724 346.319 67.3724 345.929 67.7629C345.538 68.1534 345.538 68.7866 345.929 69.1771L352.293 75.5411ZM352 24.834L352 74.834L354 74.834L354 24.834L352 24.834Z"
                    fill="#FF5733"
                  />
                )}

                {/* Dynamic gradient definition */}
                <defs>
                  <linearGradient
                    id="paint0_linear_dynamic"
                    x1="25.4297"
                    y1="50.9553"
                    x2="436.491"
                    y2="50.9553"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stopColor={gradientColors.start} />
                    <stop offset="0.5" stopColor={gradientColors.middle} />
                    <stop offset="1" stopColor={gradientColors.end} />
                  </linearGradient>
                </defs>
              </svg>
            </div>
          </div>
        </div>
      </div>

      {/* section 2 */}
      <div className="w-full shadow-lg p-6 border rounded-xl bg-white mt-20">
        <div className="flex flex-col lg:flex-row gap-4 lg:gap-0 justify-between items-center border-b-2 border-[#737373] pb-2">
          <div>
            <h1 className=" text-3xl font-semibold">{stockData?.company}</h1>
            <p className="text-[16px] text-gray-400 mt-2">
              {stockData?.exchange}
            </p>
          </div>

          <div className="flex items-center gap-5 max-w-full lg:max-w-none">
            <button
              className={`border border-green-500 w-[157px] py-2 rounded-lg text-green-500 font-semibold ${
                isActive === "price" ? "bg-green-500 text-white" : ""
              }`}
              onClick={() => setIsActive("price")}
            >
              Price
            </button>

            <button
              className={`border border-green-500 w-[157px] py-2 rounded-lg text-green-500 font-semibold ${
                isActive === "target" ? "bg-green-500 text-white" : ""
              }`}
              onClick={() => setIsActive("target")}
            >
              Target
            </button>

            <button
              className={`border border-green-500 py-2 rounded-lg text-green-500 font-semibold w-[157px] ${
                isActive === "cashFlow" ? "bg-green-500 text-white " : ""
              }`}
              onClick={() => setIsActive("cashFlow")}
            >
              Cash Flow
            </button>
          </div>
        </div>

        <div className="mt-4">
          {(isActive === "price" && <PriceChart />) ||
            (isActive === "target" && <TargetChart />) ||
            (isActive === "cashFlow" && <CashFlowChart />)}
        </div>
      </div>

      {/* section 3 */}
      <div className="w-full shadow-lg p-6 border rounded-xl bg-white mt-20">
        <div className="flex flex-col lg:flex-row gap-4 lg:gap-0 justify-between items-center border-b-2 border-[#737373] pb-2">
          <div>
            <h1 className=" text-3xl font-semibold">{stockData?.company}</h1>
            <p className="text-[16px] text-gray-400 mt-2">
              {stockData?.exchange}
            </p>
          </div>

          <div className="flex items-center gap-5 max-w-full lg:max-w-none">
            <button
              className={`border border-green-500 w-[157px] py-2 rounded-lg text-green-500 font-semibold ${
                isActive2 === "revenue" ? "bg-green-500 text-white" : ""
              }`}
              onClick={() => setIsActive2("revenue")}
            >
              Revenue
            </button>

            <button
              className={`border border-green-500 w-[157px] py-2 rounded-lg text-green-500 font-semibold ${
                isActive2 === "eps" ? "bg-green-500 text-white" : ""
              }`}
              onClick={() => setIsActive2("eps")}
            >
              EPS
            </button>

            <button
              className={`border border-green-500 py-2 rounded-lg text-green-500 font-semibold w-[157px] ${
                isActive2 === "earning" ? "bg-green-500 text-white " : ""
              }`}
              onClick={() => setIsActive2("earning")}
            >
              Earning
            </button>
          </div>
        </div>

        <div className="mt-4">
          {(isActive2 === "revenue" && <RevenueChart />) ||
            (isActive2 === "eps" && <EpsChart />) ||
            (isActive2 === "earning" && <EarningChart />)}
        </div>
      </div>

      {/* section 4 */}
      <LatestArticles />

      {/* section 5 */}
      <StockDashboard />
    </div>
  );
};

export default SearchResult;
